\documentclass[a4paper]{article}

\author{Paul van der Walt (3120805)}
\date{\today}
\title{Implementation notes for Type Reconstruction}

\begin{document}

\maketitle
\tableofcontents

\section{Introduction}

This project aims to make a type inferencer. The input is a Hindley-Milner-like language with implicit typing, and we want to infer this type information and annotate the terms explicitly. This solution is an implementation of Algorithm~W. 

\section{Approach}

This solution was implemented in the UUAG (University of Utrecht Attribute Grammar) system, which provides a natural syntax-driven way of computing information using trees. Since the untyped language is parsed into a tree-like expression, this makes the implementation clear and clutter-free.

A number of attributes are defined on the input tree, along with a definition of how to compute them given different types of nodes. The attributes which were chosen in this implementation are:

\begin{itemize}
    \item \texttt{counter}, which uses the AG builtin method for generating consecutive unique identifiers per node, which we use to dish out free unused type variables.
    \item \texttt{typeEnvironment}, the environment which maps type variables to signatures. We pass this down and add bindings to it when encountering \emph{let} or \emph{lambda} bindings. 
    \item \texttt{inferredType}, the synthesized attribute which contains the type of a term as dictated by Algorithm~W. 
    \item \texttt{substitution}, finally, which gives the substitution of type variables for types generated by the unification algorithm. 
\end{itemize}

Two helper-attributes are: 

\begin{itemize}
    \item \texttt{annotated}, which returns the type-annotated term in System F according to the input-term in HM.
    \item \texttt{withoutLet}, defining a let-free expression. All terms are left as-is, except for terms of the form \textbf{let} $x = t_1$ \textbf{in} $t_2$, which are rewritten to the equivalent $(\lambda x . t_2) t_1$. 
\end{itemize}




\section{Implemented}


\end{document}
